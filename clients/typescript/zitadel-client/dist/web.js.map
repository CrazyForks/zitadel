{"version":3,"sources":["../src/web.ts"],"sourcesContent":["import { GrpcTransportOptions } from \"@connectrpc/connect-node\";\nimport { createGrpcWebTransport } from \"@connectrpc/connect-web\";\nimport { NewAuthorizationBearerInterceptor } from \"./interceptors.js\";\n\n/**\n * Create a client transport using grpc web with the given token and configuration options.\n * @param token\n * @param opts\n */\nexport function createClientTransport(token: string, opts: GrpcTransportOptions) {\n  return createGrpcWebTransport({\n    ...opts,\n    interceptors: [...(opts.interceptors || []), NewAuthorizationBearerInterceptor(token)],\n  });\n}\n"],"mappings":";;;;;AACA,SAAS,8BAA8B;AAQhC,SAAS,sBAAsB,OAAe,MAA4B;AAC/E,SAAO,uBAAuB;AAAA,IAC5B,GAAG;AAAA,IACH,cAAc,CAAC,GAAI,KAAK,gBAAgB,CAAC,GAAI,kCAAkC,KAAK,CAAC;AAAA,EACvF,CAAC;AACH;","names":[]}