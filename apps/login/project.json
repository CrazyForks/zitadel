{
  "$schema": "../../node_modules/nx/schemas/project-schema.json",
  "targets": {
    "build": {
      "inputs": [
        "default"
      ],
      "dependsOn": [
        "^build"
      ],
      "outputs": [
        "{projectRoot}/.next/**/*",
        "!{projectRoot}/.next/cache/**/*",
        "!{projectRoot}/.next/standalone/**/*"
      ]
    },
    "build:standalone": {
      "inputs": [
        "default"
      ],
      "dependsOn": [
        "^build"
      ],
      "outputs": [
        "{projectRoot}/.next/standalone/**/*",
        "{projectRoot}/.next/static/**/*"
      ]
    },
    "build:docker": {
      "inputs": [
        "docker",
        "{projectRoot}/public/**/*",
        "{projectRoot}/scripts/**/*"
      ],
      "dependsOn": [
        "build:standalone"
      ]
    },
    "build:bake": {
      "inputs": [
        "docker",
        "{projectRoot}/public/**/*",
        "{projectRoot}/scripts/**/*",
        "{projectRoot}/docker-bake.hcl",
        "{projectRoot}/docker-bake-release.hcl",
        "{workspaceRoot}/docker-bake.hcl",
        {
          "env": "META_ACTION_BAKE_FILE"
        }
      ],
      "executor": "nx:run-commands",
      "options": {
        "cwd": "{projectRoot}",
        "command": "docker buildx bake --file docker-bake.hcl --file docker-bake-release.hcl"
      }
    },
    "start:docker": {
      "continuous": true
    },
    "dev": {
      "persistent": true,
      "cache": false,
      "dependsOn": [
        "^build"
      ]
    },
    "test": {
      "dependsOn": [
        "^build"
      ]
    },
    "test:unit": {
      "dependsOn": [
        "^build"
      ]
    },
    "test:integration:login": {
      "inputs": [
        "{projectRoot}/.next/**",
        "!{projectRoot}/.next/cache/**",
        "{projectRoot}/integration/integration/**",
        "{projectRoot}/integration/support/**",
        "{projectRoot}/cypress.config.ts"
      ],
      "outputs": [
        "{projectRoot}/cypress/videos/**",
        "{projectRoot}/cypress/screenshots/**"
      ]
    }
  }
}